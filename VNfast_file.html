<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Truy cập tài liệu</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#fde2e4,#e0f4ff);
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
}

/* BOX */
.container{
    background:#ffffffdd;
    backdrop-filter: blur(6px);
    padding:25px 22px 30px;
    border-radius:20px;
    text-align:center;
    max-width:360px;
    box-shadow:0 10px 30px rgba(0,0,0,.15);
    position:relative;
    z-index:2;
}

/* AVATAR */
.avatar{
    width:120px;
    height:120px;
    margin:0 auto 15px;
    border-radius:50%;
    overflow:hidden;
    border:5px solid #f8bbd0;
}
.avatar img{
    width:100%;
    height:100%;
    object-fit:cover;
}

/* TEXT */
p{
    font-size:14px;
    color:#555;
    line-height:1.5;
}

/* BUTTON */
button{
    margin-top:15px;
    padding:12px 26px;
    font-size:15px;
    border:none;
    border-radius:25px;
    background:#ba68c8;
    color:#fff;
    cursor:pointer;
}
button:hover{ opacity:.9 }

/* STATUS */
#status{
    margin-top:15px;
    font-weight:bold;
    color:#e53935;
}

/* SNOW */
.snow{
    position:fixed;
    top:-10px;
    color:#fff;
    font-size:18px;
    user-select:none;
    pointer-events:none;
    animation: fall linear infinite;
    opacity:.8;
}
@keyframes fall{
    to{
        transform: translateY(110vh);
    }
}
</style>
</head>

<body>

<div class="container">
    <div class="avatar">
        <img src="https://sf-static.upanhlaylink.com/img/image_20251218be9bb481d1c7a17aba1c6210769a287c.jpg">
    </div>

    <p>
        “ Nhấp vào nút truy cập phía bên dưới, sau khi vào shopee hãy đợi 10 giây
        rồi trở lại vào web để truy cập File hay tài liệu cần lấy “
    </p>

    <button id="accessBtn">Truy cập</button>

    <div id="status"></div>
</div>

<script>
const ACCESS_TIME = 10 * 1000; // 10 giây
const KEY = "shopee_access_time";

const btn = document.getElementById("accessBtn");
const status = document.getElementById("status");

// kiểm tra khi quay lại trang
function checkReturn(){
    const start = localStorage.getItem(KEY);
    if(!start) return;

    const diff = Date.now() - parseInt(start);

    if(diff < ACCESS_TIME){
        status.innerText = "❌ Chưa đủ thời gian truy cập. Vui lòng thực hiện lại.";
        localStorage.removeItem(KEY);
        btn.style.display = "inline-block";
        btn.innerText = "Truy cập";
        btn.onclick = startAccess;
    }else{
        status.innerText = "✅ Hoàn tất xác nhận.";
        btn.innerText = "Truy cập tài liệu & File";
        btn.style.display = "inline-block";
        btn.onclick = () => {
            window.location.href =
            "https://docs.google.com/document/d/1-AczkDnMaiETz8CXb42j3FEo7GWReKLjln5seMIFPvg/edit?usp=drivesdk";
        };
    }
}

function startAccess(){
    localStorage.setItem(KEY, Date.now());
    status.innerText = "⏳ Đang xác nhận... hãy quay lại sau 10 giây";
    btn.style.display = "none";

    // mở Shopee
    window.location.href = "https://s.shopee.vn/6Ae4C7ROMz";
}

// gắn sự kiện
btn.onclick = startAccess;

// khi quay lại trang
document.addEventListener("visibilitychange",()=>{
    if(!document.hidden){
        checkReturn();
    }
});
checkReturn();

/* SNOW EFFECT */
for(let i=0;i<40;i++){
    const snow=document.createElement("div");
    snow.className="snow";
    snow.innerText="❄";
    snow.style.left=Math.random()*100+"vw";
    snow.style.animationDuration=3+Math.random()*5+"s";
    snow.style.fontSize=10+Math.random()*15+"px";
    snow.style.opacity=Math.random();
    document.body.appendChild(snow);
}
</script>

</body>
</html>